Config + Autoload (PHP Micro Script)

–≠—Ç–æ—Ç –º–∏–∫—Ä–æ—Å–∫—Ä–∏–ø—Ç ‚Äî –±–∞–∑–æ–≤—ã–π —ç—Ç–∞–ª–æ–Ω —Å—Ç–∞—Ä—Ç–∞ PHP-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –±–µ–∑ —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–æ–≤.
–û–Ω –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç, –∫–∞–∫:
	‚Ä¢	—Ö—Ä–∞–Ω–∏—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ
	‚Ä¢	–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–≥—Ä—É–∂–∞—Ç—å –∫–ª–∞—Å—Å—ã
	‚Ä¢	–∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —á–µ—Ä–µ–∑ bootstrap.php

–¶–µ–ª—å ‚Äî –∏–∑—É—á–∏—Ç—å 1 –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—É—é –∏–¥–µ—é –∑–∞ ~20 –º–∏–Ω—É—Ç, –±–µ–∑ –ª–∏—à–Ω–µ–π –º–∞–≥–∏–∏.

‚∏ª

üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

config-autoload/
‚îú‚îÄ‚îÄ public/
‚îÇ   ‚îî‚îÄ‚îÄ index.php
‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îî‚îÄ‚îÄ App/
‚îÇ       ‚îî‚îÄ‚îÄ Logger.php
‚îú‚îÄ‚îÄ config/
‚îÇ   ‚îî‚îÄ‚îÄ app.php
‚îú‚îÄ‚îÄ storage/
‚îÇ   ‚îî‚îÄ‚îÄ app.log   (—Å–æ–∑–¥–∞—ë—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏)
‚îî‚îÄ‚îÄ bootstrap.php

–ö–∞–∂–¥—ã–π —Ñ–∞–π–ª –≤—ã–ø–æ–ª–Ω—è–µ—Ç –æ–¥–Ω—É —á—ë—Ç–∫—É—é —Ä–æ–ª—å.

‚∏ª

üß† –û–±—â–∞—è –∏–¥–µ—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã
	1.	public/index.php ‚Äî —Ç–æ—á–∫–∞ –≤—Ö–æ–¥–∞ (entry point)
	2.	bootstrap.php ‚Äî –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
	3.	config/*.php ‚Äî –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
	4.	src/ ‚Äî –±–∏–∑–Ω–µ—Å-–∫–æ–¥ (–∫–ª–∞—Å—Å—ã)
	5.	storage/ ‚Äî –¥–∞–Ω–Ω—ã–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è (–ª–æ–≥–∏, –∫—ç—à –∏ —Ç.–¥.)

–≠—Ç–æ —É–ø—Ä–æ—â—ë–Ω–Ω–∞—è –≤–µ—Ä—Å–∏—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã Laravel / Symfony.

‚∏ª

üìÑ –§–∞–π–ª—ã –∏ –∏—Ö –Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ

1Ô∏è‚É£ config/app.php

–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:
–¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.

–ß—Ç–æ –¥–µ–ª–∞–µ—Ç:
	‚Ä¢	–≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∞—Å—Å–æ—Ü–∏–∞—Ç–∏–≤–Ω—ã–π –º–∞—Å—Å–∏–≤ —Å –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏
	‚Ä¢	–Ω–µ —Å–æ–∑–¥–∞—ë—Ç –≥–ª–æ–±–∞–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ

–ü–æ—á–µ–º—É –≤–∞–∂–Ω–æ:
	‚Ä¢	–∫–æ–Ω—Ñ–∏–≥ –º–æ–∂–Ω–æ –ª–µ–≥–∫–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å
	‚Ä¢	–º–æ–∂–Ω–æ –ø–æ–¥–∫–ª—é—á–∞—Ç—å —Ä–∞–∑–Ω—ã–µ –∫–æ–Ω—Ñ–∏–≥–∏ –¥–ª—è dev / prod

–ö–ª—é—á–µ–≤—ã–µ –∫–æ–Ω—Ü–µ–ø—Ü–∏–∏:
	‚Ä¢	return –∏–∑ PHP-—Ñ–∞–π–ª–∞
	‚Ä¢	–≤–ª–æ–∂–µ–Ω–Ω—ã–µ –º–∞—Å—Å–∏–≤—ã
	‚Ä¢	__DIR__

‚∏ª

2Ô∏è‚É£ src/App/Logger.php

–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:
–ü—Ä–∏–º–µ—Ä –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–Ω–æ–≥–æ –∫–ª–∞—Å—Å–∞ (–ª–æ–≥–≥–µ—Ä).

–ß—Ç–æ –¥–µ–ª–∞–µ—Ç:
	‚Ä¢	–ø—Ä–∏–Ω–∏–º–∞–µ—Ç –ø—É—Ç—å –∫ –ª–æ–≥-—Ñ–∞–π–ª—É
	‚Ä¢	–≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç, —á—Ç–æ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è —Å—É—â–µ—Å—Ç–≤—É–µ—Ç
	‚Ä¢	–ø–∏—à–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏—è –≤ —Ñ–∞–π–ª

–ü–æ—á–µ–º—É –≤–∞–∂–Ω–æ:
	‚Ä¢	–∫–ª–∞—Å—Å –Ω–∏—á–µ–≥–æ –Ω–µ –∑–Ω–∞–µ—Ç –æ –∫–æ–Ω—Ñ–∏–≥–µ
	‚Ä¢	–∫–ª–∞—Å—Å —Å–∞–º–æ–¥–æ—Å—Ç–∞—Ç–æ—á–µ–Ω
	‚Ä¢	–¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è SRP (Single Responsibility Principle)

–ö–ª—é—á–µ–≤—ã–µ –∫–æ–Ω—Ü–µ–ø—Ü–∏–∏:
	‚Ä¢	namespaces (App)
	‚Ä¢	—Å—Ç—Ä–æ–≥–∞—è —Ç–∏–ø–∏–∑–∞—Ü–∏—è
	‚Ä¢	—Ä–∞–±–æ—Ç–∞ —Å —Ñ–∞–π–ª–æ–≤–æ–π —Å–∏—Å—Ç–µ–º–æ–π
	‚Ä¢	–∑–∞—â–∏—Ç–∞ –æ—Ç runtime-–æ—à–∏–±–æ–∫

‚∏ª

3Ô∏è‚É£ bootstrap.php

–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:
–ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.

–ß—Ç–æ –¥–µ–ª–∞–µ—Ç:
	1.	–†–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ—Ç –∞–≤—Ç–æ–∑–∞–≥—Ä—É–∑—á–∏–∫ –∫–ª–∞—Å—Å–æ–≤
	2.	–ó–∞–≥—Ä—É–∂–∞–µ—Ç –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é
	3.	–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

–ü–æ—á–µ–º—É –≤–∞–∂–Ω–æ:
	‚Ä¢	–∫–æ–¥ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω
	‚Ä¢	–Ω–µ—Ç –≥–ª–æ–±–∞–ª—å–Ω—ã—Ö –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö
	‚Ä¢	–ø–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∫ DI-–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—É

–ö–ª—é—á–µ–≤—ã–µ –∫–æ–Ω—Ü–µ–ø—Ü–∏–∏:
	‚Ä¢	spl_autoload_register
	‚Ä¢	PSR-4-–ø–æ–¥–æ–±–Ω–∞—è –∞–≤—Ç–æ–∑–∞–≥—Ä—É–∑–∫–∞
	‚Ä¢	declare(strict_types=1)

‚∏ª

4Ô∏è‚É£ public/index.php

–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:
–¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞ –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ.

–ß—Ç–æ –¥–µ–ª–∞–µ—Ç:
	‚Ä¢	–ø–æ–¥–∫–ª—é—á–∞–µ—Ç bootstrap.php
	‚Ä¢	–ø–æ–ª—É—á–∞–µ—Ç –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é
	‚Ä¢	—Å–æ–∑–¥–∞—ë—Ç –æ–±—ä–µ–∫—Ç—ã –∏ –∑–∞–ø—É—Å–∫–∞–µ—Ç –ª–æ–≥–∏–∫—É

–ü–æ—á–µ–º—É –≤–∞–∂–Ω–æ:
	‚Ä¢	–º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –∫–æ–¥
	‚Ä¢	–Ω–∏–∫–∞–∫–æ–π –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∏
	‚Ä¢	–ª–µ–≥–∫–æ –∑–∞–º–µ–Ω–∏—Ç—å –Ω–∞ HTTP / CLI

–ö–ª—é—á–µ–≤—ã–µ –∫–æ–Ω—Ü–µ–ø—Ü–∏–∏:
	‚Ä¢	separation of concerns
	‚Ä¢	–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ autoload

‚∏ª

5Ô∏è‚É£ storage/

–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:
–•—Ä–∞–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.

–ß—Ç–æ –¥–µ–ª–∞–µ—Ç:
	‚Ä¢	—Å–æ–¥–µ—Ä–∂–∏—Ç –ª–æ–≥-—Ñ–∞–π–ª—ã
	‚Ä¢	—Å–æ–∑–¥–∞—ë—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ª–æ–≥–≥–µ—Ä–æ–º

–ü–æ—á–µ–º—É –≤–∞–∂–Ω–æ:
	‚Ä¢	–∫–æ–¥ ‚â† –¥–∞–Ω–Ω—ã–µ
	‚Ä¢	–ø–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∫ –∫—ç—à—É / —Å–µ—Å—Å–∏—è–º / —Ñ–∞–π–ª–∞–º

‚∏ª

‚ñ∂Ô∏è –ö–∞–∫ –∑–∞–ø—É—Å—Ç–∏—Ç—å

–ò–∑ –∫–æ—Ä–Ω—è –ø—Ä–æ–µ–∫—Ç–∞:

php public/index.php

–†–µ–∑—É–ª—å—Ç–∞—Ç:
	‚Ä¢	–≤—ã–≤–æ–¥ –≤ –∫–æ–Ω—Å–æ–ª—å
	‚Ä¢	—Å–æ–∑–¥–∞–Ω–∏–µ —Ñ–∞–π–ª–∞ storage/app.log
	‚Ä¢	–∑–∞–ø–∏—Å—å —Å–æ–æ–±—â–µ–Ω–∏—è –≤ –ª–æ–≥

‚∏ª

üß™ –¢–∏–ø–∏—á–Ω–∞—è –æ—à–∏–±–∫–∞ –∏ –µ—ë —Å–º—ã—Å–ª

–û—à–∏–±–∫–∞:

file_put_contents(): No such file or directory

–ü—Ä–∏—á–∏–Ω–∞:
	‚Ä¢	PHP –Ω–µ —Å–æ–∑–¥–∞—ë—Ç –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏

–†–µ—à–µ–Ω–∏–µ:
	‚Ä¢	–ø—Ä–æ–≤–µ—Ä—è—Ç—å –∏ —Å–æ–∑–¥–∞–≤–∞—Ç—å –ø—É—Ç—å –≤–Ω—É—Ç—Ä–∏ –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–Ω–æ–≥–æ –∫–ª–∞—Å—Å–∞

–≠—Ç–æ –≤–∞–∂–Ω—ã–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–π —É—Ä–æ–∫.

‚∏ª

üß© –ß–µ–º—É —É—á–∏—Ç —ç—Ç–æ—Ç –º–∏–∫—Ä–æ—Å–∫—Ä–∏–ø—Ç
	‚Ä¢	–∫–∞–∫ PHP-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Å—Ç–∞—Ä—Ç—É–µ—Ç
	‚Ä¢	–∑–∞—á–µ–º –Ω—É–∂–µ–Ω bootstrap.php
	‚Ä¢	–∫–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç –∞–≤—Ç–æ–∑–∞–≥—Ä—É–∑–∫–∞
	‚Ä¢	–ø–æ—á–µ–º—É –∫–æ–Ω—Ñ–∏–≥ ‚Äî —ç—Ç–æ return array
	‚Ä¢	–∫–∞–∫ –ø–∏—Å–∞—Ç—å —Ä–∞—Å—à–∏—Ä—è–µ–º—ã–π –∫–æ–¥ –±–µ–∑ —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–æ–≤

‚∏ª

üîú –ò–¥–µ–∏ –¥–ª—è –ø—Ä–æ–¥–æ–ª–∂–µ–Ω–∏—è
	1.	–ö–ª–∞—Å—Å Config —Å dot-notation
	2.	–ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å LoggerInterface
	3.	.env —Ñ–∞–π–ª
	4.	Composer autoload (PSR-4)
	5.	–ú–∏–Ω–∏-DI –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä

‚∏ª

‚è± –§–æ—Ä–º–∞—Ç –æ–±—É—á–µ–Ω–∏—è
	‚Ä¢	1 —Ñ–∞–π–ª = 1 –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å
	‚Ä¢	‚â§ 100 —Å—Ç—Ä–æ–∫ –∫–æ–¥–∞
	‚Ä¢	–±–µ–∑ —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–æ–≤
	‚Ä¢	–º–∞–∫—Å–∏–º—É–º –ø–æ–Ω–∏–º–∞–Ω–∏—è
